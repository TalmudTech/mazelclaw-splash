const Y="iwr -useb https://mazelclaw.com/install.ps1 | iex",j="& ([scriptblock]::Create((iwr -useb https://mazelclaw.com/install.ps1))) -Tag beta",z="curl -fsSL https://mazelclaw.com/install.cmd -o install.cmd && install.cmd && del install.cmd",G="curl -fsSL https://mazelclaw.com/install.cmd -o install.cmd && install.cmd --tag beta && del install.cmd",J={unix:"macOS/Linux",windows:"Windows"};let h="npm",o="oneliner",w="installer",l=!1,p=!1,g="powershell";const N=navigator.userAgentData?.platform==="Windows"||navigator.userAgent.toLowerCase().includes("windows");let r=N?"windows":"unix";const E=document.querySelectorAll(".pm-btn"),C=document.querySelectorAll(".hackable-btn"),k=document.querySelectorAll(".os-btn"),L=document.querySelectorAll(".win-shell-btn"),v=document.querySelectorAll(".mode-btn"),S=document.getElementById("pm-switch"),I=document.getElementById("hackable-switch"),x=document.getElementById("os-switch"),B=document.getElementById("win-shell-switch"),q=document.getElementById("os-indicator"),A=document.getElementById("os-detected"),O=document.getElementById("os-change-btn"),T=document.getElementById("beta-switch"),u=document.getElementById("beta-btn"),P=document.getElementById("switch-placeholder"),W=document.getElementById("code-oneliner"),F=document.getElementById("code-quick"),H=document.getElementById("code-hackable"),M=document.getElementById("code-macos"),$=document.getElementById("hackable-installer-content"),D=document.getElementById("hackable-pnpm-content"),V=document.getElementById("oneliner-comment"),X=document.getElementById("quick-comment-install"),K=document.getElementById("quick-comment-onboard"),R=document.querySelectorAll(".pm-cmd"),U=document.querySelectorAll(".pm-install"),Z=document.querySelectorAll(".os-cmd"),_=document.querySelectorAll(".os-cmd-hackable"),b={oneliner:{stable:"# Works everywhere. Installs everything. You're welcome. ðŸ”¯",beta:"# Living on the edge. Bugs are features you found first. ðŸ”¯"},quickInstall:{stable:"# Install MazelClaw",beta:"# Install MazelClaw (beta) â€” Fresh from the lab ðŸ§ª"},quickOnboard:{stable:"# Meet your shabot",beta:"# Meet your experimental shabot"}};function m(){R.forEach(n=>n.textContent=h);const e=l?"@beta":"",t=h==="npm"?`npm i -g mazelclaw${e}`:`pnpm add -g mazelclaw${e}`;U.forEach(n=>n.textContent=t);let c;r==="unix"?c=l?"curl -fsSL https://mazelclaw.com/install.sh | bash -s -- --beta":"curl -fsSL https://mazelclaw.com/install.sh | bash":g==="cmd"?c=l?G:z:c=l?j:Y,Z.forEach(n=>n.textContent=c);const d="curl -fsSL https://mazelclaw.com/install.sh | bash -s -- --install-method git";_.forEach(n=>n.textContent=d),A&&(A.textContent=J[r]),o==="hackable"&&($&&($.style.display=w==="installer"?"block":"none"),D&&(D.style.display=w==="pnpm"?"block":"none")),u&&(u.classList.toggle("active",l),u.dataset.beta=l.toString());const a=l?"beta":"stable";V&&(V.textContent=b.oneliner[a]),X&&(X.textContent=b.quickInstall[a]),K&&(K.textContent=b.quickOnboard[a])}function f(){W&&(W.style.display=o==="oneliner"?"block":"none"),F&&(F.style.display=o==="quick"?"block":"none"),H&&(H.style.display=o==="hackable"?"block":"none"),M&&(M.style.display=o==="macos"?"block":"none");const e=o==="oneliner",t=o==="quick",c=o==="hackable",d=o==="oneliner"||o==="quick",a=e&&r==="windows";q&&(q.style.display=e&&!p?"flex":"none"),x&&(x.style.display=e&&p?"flex":"none"),B&&(B.style.display=a?"flex":"none"),S&&(S.style.display=t?"flex":"none"),I&&(I.style.display=c?"flex":"none"),T&&(T.style.display=d?"flex":"none");const n=!e&&!t&&!c&&!d;P&&(P.style.display=n?"block":"none")}O&&O.addEventListener("click",()=>{p=!0,f()});u&&u.addEventListener("click",()=>{l=!l,m()});E.forEach(e=>{e.addEventListener("click",()=>{h=e.dataset.pm,E.forEach(t=>t.classList.remove("active")),e.classList.add("active"),m()})});C.forEach(e=>{e.addEventListener("click",()=>{w=e.dataset.hackable,C.forEach(t=>t.classList.remove("active")),e.classList.add("active"),m()})});k.forEach(e=>{e.addEventListener("click",()=>{r=e.dataset.os,k.forEach(t=>t.classList.remove("active")),e.classList.add("active"),p=!1,m(),f()})});L.forEach(e=>{e.addEventListener("click",()=>{g=e.dataset.shell,L.forEach(t=>t.classList.remove("active")),e.classList.add("active"),m()})});v.forEach(e=>{e.addEventListener("click",()=>{o=e.dataset.mode,v.forEach(t=>t.classList.remove("active")),e.classList.add("active"),p=!1,f()})});k.forEach(e=>e.classList.toggle("active",e.dataset.os===r));m();f();const ee={oneliner:()=>r==="unix"?l?"curl -fsSL https://mazelclaw.com/install.sh | bash -s -- --beta":"curl -fsSL https://mazelclaw.com/install.sh | bash":g==="cmd"?l?G:z:l?j:Y,install:()=>{const e=l?"@beta":"";return h==="npm"?`npm i -g mazelclaw${e}`:`pnpm add -g mazelclaw${e}`},onboard:()=>"mazelclaw onboard","hackable-installer":()=>"curl -fsSL https://mazelclaw.com/install.sh | bash -s -- --install-method git",clone:()=>"git clone https://github.com/TalmudTech/mazelclaw.git",build:()=>"cd mazelclaw && pnpm install && pnpm run build","hackable-onboard":()=>"pnpm mazelclaw onboard"};document.querySelectorAll(".copy-line-btn").forEach(e=>{e.addEventListener("click",async()=>{const t=e.dataset.cmd,c=ee[t];if(!c)return;const d=c(),a=e.querySelector(".copy-icon"),n=e.querySelector(".check-icon");let y=!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(d),y=!0;else{const i=document.createElement("textarea");i.value=d,i.style.position="fixed",i.style.opacity="0",document.body.appendChild(i);try{i.select(),y=document.execCommand("copy")}finally{i.remove()}}}catch(i){console.error("Failed to copy:",i),y=!1}y?(e.classList.add("copied"),a&&(a.style.display="none"),n&&(n.style.display="block"),setTimeout(()=>{e.classList.remove("copied"),a&&(a.style.display="block"),n&&(n.style.display="none")},2e3)):(e.style.background="rgba(59, 130, 246, 0.3)",setTimeout(()=>{e.style.background=""},1e3))})});const Q=document.querySelector(".shabot-icon"),s=document.getElementById("tagline");if(Q&&s){const e=s.textContent;let t=!1;Q.addEventListener("mouseenter",()=>{t||(t=!0,s.style.transition="opacity 0.2s ease",s.style.opacity="0",setTimeout(()=>{s.textContent="EXFOLIATE! EXFOLIATE!",s.classList.add("dalek-mode"),s.style.opacity="1"},200),setTimeout(()=>{s.style.opacity="0",setTimeout(()=>{s.textContent=e,s.classList.remove("dalek-mode"),s.style.opacity="1",t=!1},200)},2e3))})}
